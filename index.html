<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTTIW - Table Tennis Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <header>
            <h1>ğŸ“ TTTIW</h1>
            <p>Table Tennis Texas InventionWorks</p>
        </header>

        <div class="panel">
            <h2>Top Players</h2>
            <table id="leaderboard">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player</th>
                        <th>ELO</th>
                        <th>W - L</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body"></tbody>
            </table>
        </div>

        <div class="controls">
            <div class="panel">
                <h2>Log Match Result</h2>
                <form id="log-match-form">
                    <div class="form-group">
                        <label for="winner-select">Winner ğŸ†</label>
                        <select id="winner-select" required>
                            <option value="">Select Winner...</option>
                        </select>
                    </div>
                    <div class="vs">VS</div>
                    <div class="form-group">
                        <label for="loser-select">Loser ğŸ’€</label>
                        <select id="loser-select" required>
                            <option value="">Select Loser...</option>
                        </select>
                    </div>
                    <button type="submit">Update Ratings</button>
                </form>
            </div>
        </div>

        <div class="panel" style="margin-bottom: 20px;">
            <h2>Add Player</h2>
            <form id="add-player-form">
                <div class="form-group">
                    <label for="player-name">Name</label>
                    <input type="text" id="player-name" required placeholder="e.g. Ma Long">
                </div>
                <div class="form-group">
                    <label for="initial-elo">Starting ELO (Default 1500)</label>
                    <input type="number" id="initial-elo" value="1500" required>
                </div>
                <button type="submit">Register Player</button>
            </form>
        </div>

        <div class="panel">
            <h2>ğŸ‘¥ Manage Players</h2>
            <div id="players-list" style="max-height: 250px; overflow-y: auto;">
                <p style="color: #888; text-align: center;">No players yet</p>
            </div>
        </div>

        <div class="panel">
            <h2>ğŸ“‹ Action Log</h2>
            <div id="action-log-container" style="max-height: 500px; overflow-y: auto;">
                <p style="color: #888; text-align: center;">No actions recorded yet</p>
            </div>
        </div>

        <div class="panel">
            <h2>âš™ï¸ Rules</h2>
            <ul class="rules-list">
                <li><strong>First to 11:</strong> Win by reaching 11 points with a 2-point lead</li>
                <li><strong>2 Serves Each:</strong> Players alternate with 2 serves per turn</li>
                <li><strong>Deuce Serving:</strong> At 10-10 (deuce), alternate serves on each point</li>
                <li><strong>Serve Height:</strong> Ball must be struck 6 inches above the table surface</li>
                <li><strong>No Reserves:</strong> Must have a confirmed player, no substitutions allowed</li>
                <li><strong>ELO Rating:</strong> Based on opponent strength and match outcome</li>
                <li><strong>K-Factor:</strong> 32 points per match</li>
                <li><strong>Starting Rating:</strong> 1200 ELO by default</li>
                <li><strong>Fairness:</strong> Beating stronger players gains more ELO</li>
            </ul>
        </div>

    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="glicko.js"></script>
</body>
</html>